#!/bin/bash
set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

check_installed() {
    command -v tmux &>/dev/null
}

check_configured() {
    [[ -L "$HOME/.tmux.conf" ]]
}

install() {
    # Tmux installed via system package manager
    :
}

configure() {
    ln -sf "$SCRIPT_DIR/.tmux.conf" ~/.tmux.conf
}

apply() {
    # Reload tmux config if tmux is running
    if command -v tmux &>/dev/null && tmux list-sessions &>/dev/null; then
        tmux source-file ~/.tmux.conf
        echo "Reloaded tmux config"
    fi
}

# Main (only run when executed directly, not when sourced)
if [[ "${BASH_SOURCE[0]}" == "${0}" ]]; then
    install
    configure
fi
