#!/bin/bash
set -e

check_installed() {
    command -v opencode &>/dev/null
}

# Install opencode binary
install() {
    echo "Installing opencode..."
    curl -fsSL https://opencode.ai/install | bash -s -- --no-modify-path
}

# PATH is managed in zsh/.zshrc, no additional configuration needed
configure() {
    :
}

update() {
    echo "Updating opencode..."
    curl -fsSL https://opencode.ai/install | bash -s -- --no-modify-path
}

# Main (only run when executed directly, not when sourced)
if [[ "${BASH_SOURCE[0]}" == "${0}" ]]; then
    install
    configure
fi
